<!DOCTYPE html>
{%load static%}
<html>
<head>
	<title>Active Users</title>
	<meta http-equiv="refresh" content="5" />
	<link rel="stylesheet" href=" {% static 'css/main.css' %}">
        <link rel="stylesheet" href=" {%static 'css/bootstrap.min.css' %}">
 <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
 <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>

      <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
  <link rel="stylesheet" href="/resources/demos/style.css">
  <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
  <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@500&display=swap" rel="stylesheet">
    <script>
  $( function() {
    $( document ).tooltip();
  } );
  </script>
  <style>
  label {
    display: inline-block;
    width: 5em;
  }
  </style>

	<style>

.gdot {
  height: 10px;
  width: 10px;
  background-color: green;
  border-radius: 50%;
  display: inline-block;
}


.rdot {
  height: 10px;
  width: 10px;
  background-color: red;
  border-radius: 50%;
  display: inline-block;
}

	body{
	font-family: 'Ubuntu', sans-serif;
	}

	table, th, td {
  background-color: rgba(255, 255, 255, 0.8);
  padding: 15px;
  font-size: 20px;
  text-align: center;
}
table.center {
  margin-left: auto;
  margin-right: auto;
}
.grid-container {
  display: grid;
  grid-template-columns: auto auto auto;
  background-color: #ffffff;
  padding: 3px;
}
.grid-item {
  background-color: rgba(255, 255, 255, 0.8);
  border: 0.2px solid rgba(0, 0, 0, 0.8);
  padding: 5px;
  font-size: 20px;
  text-align: center;
}

.lt{
  margin-left:600px
}
</style>
</head>
<body class="bg-dark" style="background-image: url({%static 'img/bgi1.jpg' %}); background-size: cover;">

<nav class="navbar navbar-expand-lg navbar-dark " style=" background-color: black;" >
    <img src="{% static 'img/logo1.jpg' %}" width="30" height="30" alt="">
  <a class="navbar-brand" href="#">Presence Service</a>
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  <div class="collapse navbar-collapse" id="navbarSupportedContent">
    <ul class="navbar-nav mr-auto">
      <li class="nav-item active">
        <a class="nav-link" href="#">Home <span class="sr-only">(current)</span></a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="#">Link</a>
      </li>
      <li class="nav-item dropdown">
        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
          Dropdown
        </a>
        <div class="dropdown-menu" aria-labelledby="navbarDropdown">
          <a class="dropdown-item" href="#">Work</a>
          <a class="dropdown-item" href="#">Projects</a>
          <div class="dropdown-divider"></div>
          <a class="dropdown-item" href="#">Data Science</a>
        </div>
      </li>
    </ul>

  </div>
</nav>
</div>
<div class="container my-1">
<div class="row ml-10 mt-10">
		<h2 class="">Welcome, {{n}}</h2>
		<a href="{% url 'logout' %}" class="btn btn-outline-success ml-auto">Logout</a>
	</div>

<div class="row mt-2">
	{% for x in alln %}
	<span class="bg-success ml-3 mx-3" style="height: 50px; width: 50px; border-radius: 45px">
		<a href="#" title="Name:{{x.name}} Email:{{x.email}} Status:{{x.status}}"><h1 class="text-light text-center mt-1">
		{{ x.name|make_list|first }}
	</h1></a>
	</span>
	{% endfor %}
        <a href="#" title="Present"> <button type="button" class="btn btn-light ml-auto mx-3" onclick="alert('No action assign');">Present</button> </a>
        <a href="#" title="Share"> <button type="button" class="btn btn-warning ml-auto mx-3" onclick="alert('No action assign');">Share</button> </a>

</div>

<div class="row mt-auto lt">

        <div>
        <a class="nav-link dropdown-toggle my-5" href="#" id="nD2" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
        <button class="btn btn-lg btn-outline-primary my-2 my-sm-0">ALL</button>
        </a>
        <div class="dropdown-menu" aria-labelledby="navbarDropdown">
        {% for x in alln %}
            <a class="dropdown-item" href="#">Name:<b>{{x.name}}</b> <span class="gdot"></span> <br /> Email:<b>{{x.email}}</b></a>
            <div class="dropdown-divider"></div>
        {% endfor %}
        {% for y in allf %}
            <a class="dropdown-item" href="#">Name:<b>{{y.name}}</b> <span class="rdot"></span> <br /> Email:<b>{{y.email}}</b> <br /> Last_Seen:<b>{{y.date}}</b></a>
            <div class="dropdown-divider"></div>
        {% endfor %}
        </div>
    </div>


    <div>
        <a class="nav-link dropdown-toggle my-5" href="#" id="nD" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
          <button class="btn btn-lg btn-outline-success my-2 my-sm-0">ONLINE</button>
        </a>
        <div class="dropdown-menu" aria-labelledby="navbarDropdown">
        {% for x in alln %}
            <a class="dropdown-item" href="#">Name:<b>{{x.name}}</b> <span class="gdot"></span> <br /> Email:<b>{{x.email}}</b></a>
            <div class="dropdown-divider"></div>
        {% endfor %}
        </div>
    </div>

    <div>
        <a class="nav-link dropdown-toggle my-5" href="#" id="nD1" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
          <button class="btn btn-lg btn-outline-danger my-2 my-sm-0">OFFLINE</button>
        </a>
        <div class="dropdown-menu" aria-labelledby="navbarDropdown">
        {% for y in allf %}
            <a class="dropdown-item" href="#">Name:<b>{{y.name}}</b> <span class="rdot"></span> <br /> Email:<b>{{y.email}}</b> <br /> Last_Seen:<b>{{y.date}}</b></a>
            <div class="dropdown-divider"></div>
        {% endfor %}
        </div>
    </div>
</div>
    <div class="container bg-light" style="opacity:0.7; border-radius: 1%;">
        <p style="text-align: center">
            <h4>Here is the quick overview</h4> <br />
        This was the <b>Presence Service</b>, assignment given by Navigus.
        In the top left there is the avatars of the login people.
        As we hover the mouse over the avatar it will display the
        Name and Email of the person. There are the dropdown buttons
        as we click on them it will display the Online and Offline
        Users respectively. <br />

        Here is the tabular view of the Online and Offline users:<br />
        </p>
        <h6 style="color:green"><b>ONLINE USERS</b></h6>
            <table class="center my-5">

        <tr>
            <th>Email</th>
            <th>Status</th>
        </tr>
        {% for x in alln %}
        <tr>
            <td>{{x.email}}</td>
            <td style="color:green">{{x.status}}</td>
        </tr>
        {% endfor %}
    </table>
        <h6 style="color:red"><b>OFFLINE USERS</b></h6>
    <table class="center my-5">
        <tr>
            <th>Email</th>
            <th>Last Seen</th>
            <th>Status</th>
        </tr>
        {% for x in allf %}
        <tr>
            <td>{{x.email}}</td>
            <td>{{x.date}}</td>
            <td style="color:red">{{x.status}}</td>
        </tr>
        {% endfor %}
    </table>

        <p>
            This table is updated as per the users login or logout the page.
            The components such as online avaliable avatars or the dropdown
            buttons or the table in the description all are syncronised as
            per the users login or logout.
        </p>

    </div>
</div>
</body>
</html>